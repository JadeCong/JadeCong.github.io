!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i((t="undefined"!=typeof globalThis?globalThis:t||self).ecSimpleOptionPlayer={})}(this,(function(t){"use strict";function i(t,i){if(!t)throw new Error(i)}function n(t,i){return t.hasOwnProperty(i)}function e(t,i){return null!=i&&n(t,i)?t[i]:null}var o=function(){function t(t){var e,o;i(t.chart&&(e=t.dataMeta,"function"===(o=typeof e)||!!e&&"object"===o)&&function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}(t.optionList)&&t.optionList.length),this._chart=t.chart,this._dataMeta=t.dataMeta;var r=this._optionList=t.optionList,s=this._optionMap={};this._replaceMerge=t.replaceMerge,this._seriesIndex=t.seriesIndex||0,this._currOptionIdx=null;for(var a=0;a<r.length;a++){var p=r[a].key;null!=p&&(i(!n(s,p),"option key duplicat: "+p),s[p]=a)}}return t.prototype.next=function(){var t=this._optionList,i=null==this._currOptionIdx?0:Math.min(t.length-1,this._currOptionIdx+1);this._doChangeOption(i)},t.prototype.previous=function(){var t=this._optionList,i=null==this._currOptionIdx?t.length-1:Math.max(0,this._currOptionIdx-1);this._doChangeOption(i)},t.prototype.go=function(t){var n=e(this._optionMap,t);i(null!=n,"Can not find option by option key: "+t),this._doChangeOption(n)},t.prototype._doChangeOption=function(t){var i=this._optionList,n=null!=this._currOptionIdx?i[this._currOptionIdx]:null,o=i[t],r=this._dataMeta,s=this._seriesIndex,a={to:{seriesIndex:s}};if(n){var p=u(n,o)||u(o,n);null!=p&&(a={from:{seriesIndex:s,dimension:p.uniqueDimension},to:{seriesIndex:s,dimension:p.uniqueDimension},dividingMethod:p.dividingMethod})}function u(t,i){var n=e(r,t.dataMetaKey),o=e(r,i.dataMetaKey),s=o.uniqueDimension;if(null!=s&&n.dimensions.indexOf(s)>=0)return{uniqueDimension:s,dividingMethod:o.dividingMethod}}this._currOptionIdx=t,this._getChart().setOption(o.option,{replaceMerge:this._replaceMerge,transition:a})},t.prototype._getChart=function(){return"function"==typeof this._chart?this._chart():this._chart},t.prototype.getOptionKeys=function(){for(var t=[],i=this._optionList,n=0;n<i.length;n++)t.push(i[n].key);return t},t}();t.create=function(t){return new o(t)},Object.defineProperty(t,"__esModule",{value:!0})}));
